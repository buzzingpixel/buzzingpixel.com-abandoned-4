{% do requireVariables({
    softwareModel: 'App\\Software\\Models\\SoftwareModel',
}) %}

{# @var \App\Software\Models\SoftwareModel softwareModel #}

{% extends 'Admin/_AdminLayout.twig' %}

{% set message = flash('PostMessage') %}
{% if message[0] is defined %}
    {% set message = message[0] %}
{% endif %}

{% block adminContent %}
    {% embed 'StandardForm/StandardFormEmbed.twig' with {
        heading: 'Edit "' ~ softwareModel.getName() ~ '"',
        message: message,
        submitButtonContent: 'Submit',
        softwareModel: softwareModel,
    } only %}
        {% block standardFormContent %}
            {% import "StandardForm/Macros/StandardFormInputs.twig" as inputs %}
            {{ inputs.textInput('Name', 'name', softwareModel.getName(), message) }}
            {{ inputs.textInput('Slug', 'slug', softwareModel.getSlug(), message) }}
            {{ inputs.checkbox('For Sale?', 'for_sale', softwareModel.isForSale(), message) }}
            {{ inputs.textInput('Price', 'price', softwareModel.getPrice(), message) }}
            {{ inputs.textInput('Renewal Price', 'renewal_price', softwareModel.getRenewalPrice(), message) }}
            {{ inputs.checkbox('Subscription?', 'subscription', softwareModel.isSubscription(), message) }}
        {% endblock %}
    {% endembed %}
{% endblock %}
