{% set message = message ?? {} %}
{% set headMarkup = (block('headMarkup') ?? headMarkup ?? false) %}
{% set bodyMarkup = (block('bodyMarkup') ?? bodyMarkup ?? false) %}

<div class="TableLayout">
    {% if message['status'] is defined %}
        {% set class = 'Message--IsError' %}
        {% if message.status == 'SUCCESSFUL' %}
            {% set class = 'Message--IsSuccess' %}
        {% endif %}
        <div class="TableLayout__Message">
            <div
                class="Message {{ class }}"
            >
                <div class="Message__Inner">
                    {{ message.result.message|default('')|smartypants|widont }}
                </div>
            </div>
        </div>
    {% endif %}
    <table class="Table">
        {% if headMarkup %}
            <thead class="Table__Head">
                {{ headMarkup|raw }}
            </thead>
        {% endif %}
        {% if bodyMarkup %}
            <tbody class="Table__Body">
                {{ bodyMarkup|raw }}
            </tbody>
        {% endif %}
    </table>
</div>
